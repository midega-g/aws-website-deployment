# AWS Website Deployment Challenge

A step-by-step guide to deploying a website using AWS CloudFront and AWS S3.

## Prerequisites

- AWS Account
- AWS CLI installed ([Installation Guide](https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html))
- Git
- Text editor (VS Code recommended)

## Getting Started

1. Clone the repository:

    ```bash
    git clone https://github.com/midega-g/aws-website-deployment.git
    cd aws-website-deployment
    code .
    ```

2. Make changes to photos and names as needed

## Step 1: AWS Account Setup

### Create IAM User

⚠️ **Important**: Avoid setting up "IAM Identity Center" as it might upgrade your account out of the Free Tier.

1. Go to IAM in AWS Console
2. Click "Users" → "Create user"
3. Enter username and check "Provide user access to the AWS Management Console"
4. Select "I want to create an IAM user" (not Identity Center)
5. Choose "Autogenerated password"
6. Create "Administrators" group with "AdministratorAccess" policy
7. Add user to the group
8. Save your credentials (console sign-in URL, username, password)

### Enable Billing Access

1. Go to Account settings (while logged in as root)
2. Find "IAM User and Role Access to Billing Information"
3. Click "Edit" and check "Activate IAM Access"
4. Sign out and sign in with your IAM user

### Setup Budget

1. Go to "Billing and Cost Management" → "Budgets"
2. Click "Create budget" → "Use a template (simplified)"
3. Choose "Monthly cost budget"
4. Set budget name and amount ($5.00)
5. Enter your email for alerts

## Step 2: Create S3 Bucket

1. Navigate to S3 in AWS Console
2. Click "Create bucket"
3. Choose unique name (e.g., "my-first-website-[your-name]")
4. Keep all "Block Public Access" settings checked ✅
5. Create bucket with default settings

### Upload Your Photo

1. Open your bucket
2. Click "Upload" → "Add files"
3. Select a photo (under 5MB, JPG/PNG format)
4. Upload with default settings

### Organize Bucket Structure

1. Create "images" folder
2. Move your photo to the images folder

## Step 3: Customize Website Content

### Update index.html

1. Replace "Your Name" with your actual name
2. Update AWS Builder Center profile link with your alias
3. Customize the fun facts section
4. Update footer with your name
5. (Optional) Add your profile photo

### Preview Locally

Open `index.html` in your browser to test before uploading.

### Upload Website Files to S3

1. Go to your S3 bucket
2. Verify "Block all public access" is On
3. Upload these files:
   - `index.html`
   - `style.css`
   - Your profile photo

### Test Security

Try accessing the Object URL - you should see "Access Denied" (this is correct).

## Step 4: Setup CloudFront Distribution

### Create Distribution

1. Go to CloudFront in AWS Console
2. Click "Create CloudFront distribution"
3. Name your distribution
4. Select "Single website or app"
5. Skip custom domain setup
6. Configure origin:
   - Origin type: "Amazon S3"
   - Select your S3 bucket
   - Leave "Allow private S3 bucket access to CloudFront" checked
7. Use recommended settings
8. Skip security protections for learning purposes
9. Create distribution

### Configure Homepage

1. Edit distribution settings
2. Set "Default root object" to `index.html`
3. Save changes

### Test Your Website

1. Wait for deployment (5-15 minutes)
2. Copy your CloudFront domain (e.g., d1234567890123.cloudfront.net)
3. Visit `https://your-distribution-domain.cloudfront.net`
4. Verify S3 direct access is still blocked

## [Optional]: AWS CLI Commands

### Upload Images via CLI

```bash
aws s3 cp /path/to/local/folder s3://your-bucket-name/images/ --recursive
```

**Example:**

```bash
aws s3 cp \
    images/ \
    s3://midega-website-challenge-bucket/images/ \
    --recursive
```

### Script Management

Make scripts executable:

```bash
chmod +x scripts/deploy.sh
chmod +x scripts/destroy.sh
```

Run scripts:

```bash
./scripts/deploy.sh
./scripts/destroy.sh
```

## Security Features

- **Private S3 Bucket**: Files are not publicly accessible
- **Origin Access Control (OAC)**: CloudFront has special access to private bucket
- **HTTPS**: Secure content delivery worldwide
- **Budget Alerts**: Monitor spending to stay within Free Tier

## Cost Considerations

- **S3 Storage**: ~$0.023 per GB/month
- **CloudFront**: Free tier includes 1TB data transfer
- **Free Tier Credits**: $100 initial + up to $100 more through activities
- **Data Transfer**: First 100 GB/month always free

## Troubleshooting

- **Access Denied on S3**: This is expected - files should only be accessible via CloudFront
- **CloudFront not working**: Wait for deployment to complete (up to 15 minutes)
- **Budget alerts**: Check AWS Cost and Usage dashboard

## Project Structure

```
website-challenge/
├── index.html          # Main webpage
├── style.css          # Styling
├── images/            # Image assets
├── scripts/           # Deployment scripts
└── README.md          # This file
```
